<Project>

  <PropertyGroup>
    <RootNamespace>Abc</RootNamespace>

    <LangVersion>latest</LangVersion>
    <CheckForOverflowUnderflow>true</CheckForOverflowUnderflow>
    <Nullable>enable</Nullable>
    <TreatWarningsAsErrors>true</TreatWarningsAsErrors>

    <AssemblyOriginatorKeyFile>$(MSBuildThisFileDirectory)Abc.snk</AssemblyOriginatorKeyFile>

    <!-- Fake version -->
    <VersionPrefix>1.0.0</VersionPrefix>
    <VersionSuffix>DUMMY</VersionSuffix>
  </PropertyGroup>

  <PropertyGroup>
    <Authors>Chtoucas</Authors>
    <Company>Narvalo.Org</Company>
    <Product>Abécédaire Library</Product>
    <Copyright>Copyright (c) 2019 Narvalo.Org</Copyright>

    <PackageProjectUrl>https://github.com/chtoucas/Abc.Maybe/</PackageProjectUrl>
    <PackageLicenseExpression>BSD-3-Clause</PackageLicenseExpression>
    <PackageReleaseNotes>See CHANGELOG in project root.</PackageReleaseNotes>

    <RepositoryType>git</RepositoryType>
    <RepositoryUrl>https://github.com/chtoucas/Abc.Maybe/</RepositoryUrl>
  </PropertyGroup>

  <PropertyGroup>
    <!--
      IMPORTANT: do NOT use MSBuild property resolution $() when a property is
      going to be parsed by a PowerShell script.
      - MaxApiPlatform            Library projects
                                  eng\NETFrameworkTools.csproj
                                  test\Blank.csproj
      - LibraryPlatforms          Exe projects
      - SolutionPlatforms                                           Get-SolutionPlatforms()
      - PackagePlatforms                                            Get-PackagePlatforms()
      - NET45xPlatforms           test\Abc.TestPackages.csproj
      - MinClassicPlatforms       test\Abc.TestPackages.csproj      Get-SupportedPlatforms()
      - MaxClassicPlatforms       test\Abc.TestPackages.csproj      Get-SupportedPlatforms()
      - MinCorePlatforms          test\Abc.TestPackages.csproj      Get-SupportedPlatforms()
      - MaxCorePlatforms          test\Abc.TestPackages.csproj      Get-SupportedPlatforms()

      The first listed framework in "LibraryPlatforms" is the one used by the
      VS editor.
      Full NRT-analysis requires .NET Core 3.0 or above, .NET Standard does
      not include the nullable annotations (version 2.1 defines the nullable
      attributes but VS doesn't use them if I understand things correctly).
      We use the version 3.1 instead of 3.0 because the former is LTS and the
      latter is already EOL.
      For libraries, use
        <TargetFrameworks>$(LibraryPlatforms)/TargetFrameworks>
      otherwise, use
        <TargetFramework>$(MaxApiPlatform)</TargetFramework>
      If/when we create an API depending on a new .NET standard, MaxApiPlatform
      should be the last available platform supporting it We can also update
      MaxApiPlatform just to benefit from the last improvements it could bring.

      IMPORTANT: update "SolutionPlatforms" when changing "MaxApiPlatform".
    -->
    <MaxApiPlatform>netcoreapp3.1</MaxApiPlatform>
    <LibraryPlatforms>$(MaxApiPlatform);netstandard2.0</LibraryPlatforms>

    <!--
      Platforms supported when building the __whole__ solution.
      Do NOT include "netstandard1.0", it is only supported by Abc.Maybe.csproj.
    -->
    <SolutionPlatforms>netcoreapp3.1;netstandard2.1;netstandard2.0;net461</SolutionPlatforms>

    <PackagePlatforms>netstandard2.1;netstandard2.0;netstandard1.0;net461</PackagePlatforms>

    <!--
      Supported platforms by a package.

      .NET Framework (Classic).
        "MinClassicPlatforms" lists the last minor version of each major version.
        https://support.microsoft.com/en-us/help/17455/lifecycle-faq-net-framework

      .NET Core.
        "MinCorePlatforms" lists the LTS versions and the latest one if not LTS.
        https://dotnet.microsoft.com/platform/support/policy/dotnet-core
        https://github.com/dotnet/core/blob/master/microsoft-support.md
    -->
    <MinClassicPlatforms>net452;net462;net472;net48</MinClassicPlatforms>
    <MaxClassicPlatforms>net45;net451;net452;net46;net461;net462;net47;net471;net472;net48</MaxClassicPlatforms>

    <MinCorePlatforms>netcoreapp2.1;netcoreapp3.1</MinCorePlatforms>
    <MaxCorePlatforms>netcoreapp2.0;netcoreapp2.1;netcoreapp2.2;netcoreapp3.0;netcoreapp3.1</MaxCorePlatforms>
  </PropertyGroup>

</Project>
