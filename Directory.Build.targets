<Project>

  <PropertyGroup>
    <!--
      FIXME: API profile + PublicAPI, test projects, package (netstandard1.0),
      build.ps1 & pack.ps1.

      See "SolutionPlatforms" and "PackagePlatforms" in D.B.props.
      Profile 2.1
      - netcoreapp3.1
      - netstandard2.1
      Profile 2.0 (default)
      - netstandard2.0
      - net461
      - net452
      - net451
      - net45

      ApiProfileMoniker, D.B.targets is not the right place to define it,
      as we need it in Abc.Maybe.csproj to define the PublicAPI files.
      The only other place where we need it is here, for API_PROFILE_21.
    -->
    <ApiProfileMoniker>netstandard2.0</ApiProfileMoniker>
    <ApiProfileMoniker Condition=" $(TargetFramework) == 'netstandard2.1' ">netstandard2.1</ApiProfileMoniker>
    <ApiProfileMoniker Condition=" $(TargetFramework) == $(MaxApiPlatform) ">netstandard2.1</ApiProfileMoniker>
  </PropertyGroup>

  <PropertyGroup>
    <!-- CONTRACTS_FULL is necessary to enable the attribute Pure -->
    <DefineConstants>$(DefineConstants);CONTRACTS_FULL</DefineConstants>

    <DefineConstants Condition=" $(TargetFramework.StartsWith('netstandard1.')) ">$(DefineConstants);NETSTANDARD1_x</DefineConstants>
    <DefineConstants Condition=" $(TargetFramework.StartsWith('netcoreapp2.')) ">$(DefineConstants);NETCOREAPP2_x</DefineConstants>

    <DefineConstants Condition=" $(TargetFramework) == 'netstandard2.1' ">$(DefineConstants);API_PROFILE_21</DefineConstants>
    <DefineConstants Condition=" $(TargetFramework) == $(MaxApiPlatform) ">$(DefineConstants);API_PROFILE_21</DefineConstants>
  </PropertyGroup>

  <ItemGroup>
    <Compile Include="$(SourceRoot)MissingAttributes.cs" />
    <Compile Include="$(SourceRoot)NullableAttributes.cs" />
  </ItemGroup>

</Project>
