<Project>

  <!-- API profiles -->
  <PropertyGroup Condition=" $(ApiProfileMoniker) == '' ">
    <!--
      "ApiProfileMoniker" is also initialised within "src\Abc.Maybe.csproj".

      See "SolutionPlatforms" and "PackagePlatforms" in D.B.props.
      Profile 2.1: "netstandard2.1" and "netcoreapp3.1" ie "MaxApiPlatform".
      Profile 2.0 (default): everything else.
    -->
    <ApiProfileMoniker>netstandard2.0</ApiProfileMoniker>
    <ApiProfileMoniker Condition=" $(TargetFramework) == 'netstandard2.1' ">netstandard2.1</ApiProfileMoniker>
    <ApiProfileMoniker Condition=" $(TargetFramework) == $(MaxApiPlatform) ">netstandard2.1</ApiProfileMoniker>
  </PropertyGroup>

  <PropertyGroup>
    <!-- CONTRACTS_FULL is necessary to enable the attribute Pure -->
    <DefineConstants>$(DefineConstants);CONTRACTS_FULL</DefineConstants>

    <DefineConstants Condition=" $(TargetFramework.StartsWith('netstandard1.')) ">$(DefineConstants);NETSTANDARD1_x</DefineConstants>
    <DefineConstants Condition=" $(TargetFramework.StartsWith('netcoreapp2.')) ">$(DefineConstants);NETCOREAPP2_x</DefineConstants>

    <DefineConstants Condition=" $(ApiProfileMoniker) == 'netstandard2.1' ">$(DefineConstants);API_PROFILE_21</DefineConstants>
  </PropertyGroup>

  <ItemGroup>
    <Compile Include="$(SourceRoot)MissingAttributes.cs" />
    <Compile Include="$(SourceRoot)NullableAttributes.cs" />
  </ItemGroup>

</Project>
