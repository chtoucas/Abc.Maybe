<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>$(MaxApiPlatform)</TargetFramework>
    <IsPackable>false</IsPackable>

    <!--
      IDE0002   Simplify Member Access
      xUnit1004 Test methods should not be skipped
    -->
    <RelaxWarnings>true</RelaxWarnings>
    <RelaxAsyncWarnings>true</RelaxAsyncWarnings>
    <NoWarn>$(NoWarn);IDE0002;xUnit1004</NoWarn>

    <!--
      MSBuild (or NuGet?) is not meant to work when we specify both
      TargetFramework and TargetFrameworks (see the "s").
      Warning NU1701 appears only for xunit.runner.visualstudio.
      This is harmless since testing is done using a **single** framework at a time.
      See eng\qbuild.cmd.
    -->
    <NoWarn Condition=" $(TargetFrameworks) != '' ">$(NoWarn);NU1701</NoWarn>
  </PropertyGroup>

  <ItemGroup>
    <None Update="xunit.runner.json">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <Compile Include="$(SourceRoot)NullableAttributes.cs" />
  </ItemGroup>

  <!--
    System.ValueTuple        .NET 4.6.1
    Microsoft.Bcl.HashCode   .NET 4.6.1 / .NET Standard 2.0
  -->
  <ItemGroup>
    <PackageReference Include="coverlet.msbuild" Version="2.8.1">
      <PrivateAssets>all</PrivateAssets>
      <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
    </PackageReference>
    <PackageReference Include="Microsoft.Bcl.HashCode" Version="1.1.0" />
    <PackageReference Include="Microsoft.NET.Test.Sdk" Version="16.6.1" />
    <PackageReference Include="OpenCover" Version="4.7.922" />
    <PackageReference Include="ReportGenerator" Version="4.5.6" />
    <PackageReference Include="System.ValueTuple" Version="4.5.0" />
    <PackageReference Include="xunit" Version="2.4.1" />
    <PackageReference Include="xunit.runner.visualstudio" Version="2.4.1">
      <PrivateAssets>all</PrivateAssets>
      <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
    </PackageReference>
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\Abc.Maybe\Abc.Maybe.csproj" />
    <ProjectReference Include="..\Abc.Sketches\Abc.Sketches.csproj" />
    <ProjectReference Include="..\Abc.Testing\Abc.Testing.csproj" />
  </ItemGroup>

</Project>
