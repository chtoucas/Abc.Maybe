<Project>

  <Import Project="$(MSBuildThisFileDirectory)..\Directory.Build.targets" />

  <!--
    Command-line options:
    - AbcVersion    Version of the package Abc.Maybe
    - Live          default = false
  -->

  <Import Project="$(SourceRoot)Abc.Maybe.props" />

  <PropertyGroup>
    <AbcVersion>$(MajorVersion).$(MinorVersion).$(PatchVersion)</AbcVersion>
    <AbcVersion Condition=" $(PreReleaseCycle) != '' ">$(AbcVersion)-$(PreReleaseCycle)$(PreReleaseNumber)</AbcVersion>
  </PropertyGroup>

  <Choose>
    <When Condition=" $(Live) == 'true' and $(AssemblyName) == 'Abc.PerformanceTests' ">
      <ItemGroup>
        <ProjectReference Include="$(SourceRoot)Abc.Maybe\Abc.Maybe.csproj" />
      </ItemGroup>
    </When>

    <Otherwise>
      <ItemGroup>
        <PackageReference Include="Abc.Maybe" Version="$(AbcVersion)" />
      </ItemGroup>
    </Otherwise>
  </Choose>

</Project>
