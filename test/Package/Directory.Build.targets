<Project>

  <Import Project="$(MSBuildThisFileDirectory)..\Directory.Build.targets" />

  <Import Project="$(SourceRoot)Abc.Tests\PackageReferences.targets" />

  <PropertyGroup>
    <DefineConstants Condition=" '$(ContinuousIntegrationBuild)' == 'true' ">$(DefineConstants);SILENT_SKIP</DefineConstants>
    <DebugType>none</DebugType>
  </PropertyGroup>

  <ItemGroup>
    <None Update="xunit.runner.json">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
  </ItemGroup>

  <ItemGroup>
    <FilesToExclude Include="$(SourceRoot)**\AssemblyInfo.cs" />
    <FilesToExclude Include="$(SourceRoot)**\bin\**\*.*" />
    <FilesToExclude Include="$(SourceRoot)**\obj\**\*.*" />
  </ItemGroup>
  <ItemGroup>
    <!--<Compile Include="$(MSBuildThisFileDirectory)AssemblyInfo.cs" />-->
    <Compile Include="$(SourceRoot)Abc.Sketches\**\*.cs" Exclude="@(FilesToExclude)" />
    <Compile Include="$(SourceRoot)Abc.Testing\**\*.cs" Exclude="@(FilesToExclude)" />
    <Compile Include="$(SourceRoot)Abc.Tests\**\*.cs" Exclude="@(FilesToExclude)" />
  </ItemGroup>

  <!-- Packages referenced by Abc.Testing and not __explicitly__ listed in
       PackageReferences.targets -->
  <ItemGroup>
    <PackageReference Include="xunit.assert" Version="2.4.1" />
    <PackageReference Include="xunit.extensibility.core" Version="2.4.1" />
  </ItemGroup>

</Project>
